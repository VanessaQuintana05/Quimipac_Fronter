@model Quimipac_.Models.MT_Planilla_Detalle

@{
    Layout = null;

    var listaItems = ViewBag.listaItems;

    var attributes = new Dictionary<string, object>();
    attributes.Add("Id", "FormAgregarDetallePlanilla");
    attributes.Add("autocomplete", "off");

}
@*<link rel="stylesheet" href="~/Content/plugins/timepicker/bootstrap-timepicker.min.css">*@


<link href="~/Content/jquery.timepicker.css" rel="stylesheet" />

@*Pinta contorno txt Obligatorio*@
<link rel="stylesheet" href="~/Content/bower_components/FiltroDataTable/ValidaInputVQ/css/contornoText.css">
<link rel="stylesheet" href="~/Content/bower_components/FiltroDataTable/ValidaInputVQ/css/bootstrapValidator.min.css">



@*@using (Html.BeginForm("Agregar_Actividades_MantTipoTrabajo", "Mantenimiento", FormMethod.Post, attributes))*@

@*@using (Html.BeginForm("Agregar_Detalle_Planilla", "Planilla", new { @id = string.Empty }, FormMethod.Post, new { @id = "modal1" }))
{*@
<form action="/Planilla/Agregar_Detalle_Planilla/" enctype="multipart/form-data" method="post" type="button" id="modal1">

    @Html.AntiForgeryToken()
    <link rel="stylesheet" href="~/Content/bower_components/select2/dist/css/select2.css">

    <div class="form-horizontal">

        <div class="row">
            <div class="col-md-12">
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            </div>
        </div>


        <!--cmboFiltro-->
        @*<div class="form-group">
            <label for="status" class="text-bold col-md-2 control-label">Item:</label>
            <div class="col-md-10">
                @Html.DropDownListFor(model => model.Id_Item, (SelectList)listaItems, new { @class = "form-control select2", @style = "width: 100%" })
                @Html.ValidationMessageFor(model => model.Id_Item, "", new { @class = "text-danger" })
            </div>
        </div>*@




        @*Input validador*@
        @*<div class="form-group">
            <label for="recipient-name" class="col-md-2 control-label text-success">*&nbsp;Cantidad:</label>
            <div class="col-md-10">
                @Html.EditorFor(model => model.Cantidad, new { htmlAttributes = new { @class = "form-control is-valid", @type = "text", @required = "required", @id = "txtObligatorio" } })
                @Html.ValidationMessageFor(model => model.Cantidad, "", new { @class = "text-danger" })
            </div>
        </div>*@

        @*<div class="form-group">
            <label for="recipient-name" class="col-md-2 control-label text-success">*&nbsp;Precio:</label>
            <div class="col-md-10">
                @Html.EditorFor(model => model.Precio, new { htmlAttributes = new { @class = "form-control is-valid", @type = "text", @required = "required", @id = "txtObligatorio" } })
                @Html.ValidationMessageFor(model => model.Precio, "", new { @class = "text-danger" })
            </div>
        </div>*@

        @*<div class="form-group">
            <label for="recipient-name" class="col-md-2 control-label text-success">*&nbsp;Valor:</label>
            <div class="col-md-10">
                @Html.EditorFor(model => model.Valor, new { htmlAttributes = new { @class = "form-control is-valid", @type = "number", @min = 0, @step = "0.001", @required = "required", @id = "txtObligatorio" } })
                @Html.ValidationMessageFor(model => model.Valor, "", new { @class = "text-danger" })
            </div>
        </div>*@

        @*<div class="form-group">
            <label for="recipient-name" class="col-md-2 control-label text-success">*&nbsp;Iva:</label>
            <div class="col-md-10">
                @Html.EditorFor(model => model.IVA, new { htmlAttributes = new { @class = "form-control is-valid", @type = "text", @required = "required", @id = "txtObligatorio" } })
                @Html.ValidationMessageFor(model => model.IVA, "", new { @class = "text-danger" })
            </div>
        </div>*@

        @*<div class="form-group">
            <label for="recipient-name" class="col-md-2 control-label">Fecha Registro:</label>
            <div class="col-md-10">
                @Html.EditorFor(model => model.Fecha_Inicial_Periodo, new { htmlAttributes = new { @class = "form-control is-valid", @id = "datepickerOpenA", @type = "text", @required = "required" } })
                @Html.ValidationMessageFor(model => model.Fecha_Inicial_Periodo, "", new { @class = "text-danger" })

            </div>
        </div>*@

    <div class="form-group">
        <label for="recipient-name" class="col-md-2 control-label">Archivo:</label>
        <div class="col-md-10">
            <input type="file" name="excelfile" id="file-1" class="inputfile inputfile-1" style="background: #f39c12;color: white;border: none;height: 30px;" data-multiple-caption="{count} archivos seleccionados" multiple /><label for="file-1" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" class="iborrainputfile" viewBox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"></path></svg><span class="iborrainputfile">Seleccionar archivo</span></label>
            @*<input type="submit" value="Import" name="file-1" id="file-1" class="inputfile inputfile-1" /><label for="file-1"><span class="iborrainputfile">Import</span></label>*@
            @*<input type="hidden" id="contrato_excel" name="contrato_excel" value="">*@
        </div>
    </div>

        <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
            <input type="submit" value="Crear" class="btn btn-warning" />
        </div>
    </div>

    @*}*@
</form>


    <!--cmbFiltro-->
    <script src="~/Content/bower_components/jquery/dist/jquery.min.js"></script>
    <script src="~/Content/bower_components/select2/dist/js/select2.full.min.js"></script>

    @*<script src="~/Content/plugins/timepicker/bootstrap-timepicker.min.js"></script>*@
    <script src="~/Content/bower_components/moment/min/moment.min.js"></script>
    <script src="~/Content/jquery.timepicker.js"></script>

    <script src="~/Content/datepair.js"></script>
    <script src="~/Content/jquery.datepair.js"></script>

    <!--VaLIDATOR txt-->
    <script src="~/Content/bower_components/FiltroDataTable/ValidaInputVQ/js/bootstrapValidator.min.js"></script>
    <script src="~/Content/bower_components/FiltroDataTable/ValidaInputVQ/js/es_ES.min.js"></script>



    <script type="text/javascript">

        $(document).ready(function () {

            $('#pesoAgregar').prop("hidden", true);

            $('#comboObligatorioAgregar').change(function (e) {

                if ($(this).val() == "Si") {

                    $('#pesoAgregar').prop("hidden", false);
                }
                else {
                    $('#pesoAgregar').prop("hidden", true);
                }

            })

            $('#datepairExample .time').timepicker({
                'showDuration': true,
                'timeFormat': 'H:i',
                minTime: '00:00:00', // 11:45:00 AM,
                maxTime: '24:00:00', // 11:45:00 AM,
                interval: 15, // 15 minutes
                step: 15
            });

            $('#datepairExample').datepair();

            //start = new Date('8/24/2009 08:00');
            //end = new Date('8/24/2009 08:15');

            //$('#startHour').val(moment(start).format('HH:mm'))
            //$('#endHour').val(moment(end).format('HH:mm'))



        });

        $('#modal1').bootstrapValidator({
            message: "Este valor no es valido",
            feedbackIcons: {
                valid: 'glyphicon glyphicon-ok',
                invalid: 'glyphicon glyphicon-remove',
                validating: 'glyphicon glyphicon-refresh'
            }//,

            ////"text": {
            //    ".txtObligatorio": {
            //             validators: {     Empty: { message: "El nombre de usuario es requerido" },
            //                 stringLength: {
            //                     min: 3,
            //                     max: 5,
            //                     message: "El nombre de usuario debe tener entre 6 y 30 caracteres de logitud"
            //                 }
            //             }
            //    }
            ////}

        });


        $(document).ready(function () {

            //$('.select2').select2();

            $('.select2').select2({
                dropdownParent: $('#modal1')
            });
        })


    </script>
